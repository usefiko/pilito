# ๐ ฺฏุฒุงุฑุด ุจุฑุฑุณ ูุดฺฉูุงุช Q&A System

## โ ูุดฺฉูุงุช ฺฏุฒุงุฑุด ุดุฏู ุชูุณุท ฺฉุงุฑุจุฑ:

1. **ููุท 1 ุตูุญู ุงุฒ 5 ุตูุญู ุณุงุช crawl ุดุฏู**
2. **ุณูุงูุงุช ุจโฺฉูุช ุจุง URL ุจุงุฒ ูู ุชููุฏ ูุดู**

---

## ๐ ุจุฑุฑุณ ฺฉุฏ ูุนู:

### โ ุชุบุฑุงุช ูุจู (commit: 3571694):
- Prompt ุจูุจูุฏ ุงูุชู ุจุง ุฏุณุชูุฑุงุช ูุงุถุญ
- Validation rules ุงุถุงูู ุดุฏู
- URL detection ุงุถุงูู ุดุฏู
- Database deduplication ุงุถุงูู ุดุฏู

### โ๏ธ ูุดฺฉูุงุช ุงุญุชูุงู:

#### ูุดฺฉู 1: Crawler ููุท 1 ุตูุญู ูฺฏุฑู

**ุนูุชโูุง ุงุญุชูุงู:**
1. **ููฺฉโูุง ุฏุฑุณุช extract ููุดู** - ููฺฉูู ุณุงุช Single Page App (SPA) ุจุงุดู
2. **Domain matching ูุดฺฉู ุฏุงุฑู** - ููฺฉโูุง ุจู ุนููุงู external ุดูุงุณุง ูุดู
3. **Depth ุง max_pages ูุญุฏูุฏ ุดุฏู** - ุงุฒ frontend ุง admin ุชูุธู ุดุฏู
4. **JavaScript-based navigation** - ููฺฉโูุง ุจุง JS ููุฏ ูุดูุ ูู HTML

**ุฑุงู ุญู ูพุดููุงุฏ:**
- Log ฺฉุฑุฏู ุฏูู ููฺฉโูุง ฺฉู extract ูุดู
- ฺฺฉ ฺฉุฑุฏู website_source.max_pages ู crawl_depth
- ุจุฑุฑุณ ุงูฺฉู ุณุงุช ฺู ููุน ููฺฉ ุฏุงุฑู

#### ูุดฺฉู 2: ุณูุงูุงุช ุจุง URL ุจุงุฒ ูู ุชููุฏ ูุดู

**ุนูุชโูุง ุงุญุชูุงู:**
1. **Celery worker restart ูุดุฏู** - ฺฉุฏ ูุฏู ุฑู ุงุฌุฑุง ูโฺฉูู
2. **Validation skip ูุดู** - ุจู ุฎุงุทุฑ ุฎุทุง ุง exception
3. **URL pattern match ููุดู** - pattern ูุง ูุง ฺฉุงูู ูุณุช
4. **AI ุจู ุฏุณุชูุฑุงุช ฺฏูุด ููุฏู** - AI ููฺูุงู URL ูุฒุงุฑู

**ุฑุงู ุญู ูพุดููุงุฏ:**
- Celery ุฑู restart ฺฉูู
- Log ุจุดุชุฑ ุงุถุงูู ฺฉูู
- Test case ุจููุณู
- Post-processing ููโุชุฑ ุจุฒุงุฑู (regex ุจุฑุง ุญุฐู ุงุฌุจุงุฑ URL)

---

## ๐ฏ ูพูุงู ุงูุฏุงู:

### ูุงุฒ 1: Debug ู ุจุฑุฑุณ (ููุฑ)
1. โ ฺฺฉ ฺฉุฑุฏู logs ุณุฑูุฑ
2. โ ุจุฑุฑุณ database: ฺูุฏ ุตูุญู ูุงูุนุงู save ุดุฏูุ
3. โ ฺฺฉ ฺฉุฑุฏู Celery worker status
4. โ ุชุณุช ฺฉุฑุฏู URL detection ุจุง Q&A ูุง ูุนู

### ูุงุฒ 2: Fix (ุงุตู)
**Option A: Quick Fix - Post-Processing**
- ุจุนุฏ ุงุฒ ุชููุฏ Q&Aุ ฺฉ regex cleanup ุงุถุงูู ฺฉูู
- ูุฑ URL ุฑู force ุญุฐู ฺฉูู
- ูุฑ ุณูุงู generic ุฑู force ุญุฐู ฺฉูู

**Option B: Deep Fix - Root Cause**
- Crawler ุฑู debug ฺฉููุ ุจุจูู ฺุฑุง ููุท 1 ุตูุญู ูฺฏุฑู
- AI prompt ุฑู ุจุงุฒ ูู ุณุฎุชโุชุฑ ฺฉูู
- Validation ุฑู ููโุชุฑ ฺฉูู

### ูุงุฒ 3: ุชุณุช
- ุฑู ุณุงุช ูุงูุน ฺฉุงุฑุจุฑ ุชุณุช ฺฉูู
- ุจุฑุฑุณ ฺฉูู ููู ุตูุญุงุช ฺฏุฑูุชู ุดุฏูุ
- ุจุฑุฑุณ ฺฉูู Q&A ูุง ุจโฺฉูุช ูุณุชูุ

---

## ๐ง ุงูุฏุงูุงุช ูพุดููุงุฏ ุจุฑุง ููู ุงูุงู:

### 1. Restart Celery Workers (ููุฑ โก)
```bash
# ุฑู ุณุฑูุฑ
sudo systemctl restart celery
# ุง
supervisorctl restart celery
```

### 2. Test URL Detection
ุจุฐุงุฑ ุจุจูู validation ูุงูุนุงู ฺฉุงุฑ ูโฺฉูู ุง ููุ

### 3. Add Forced Cleanup
ฺฉ cleanup layer ุงุถุงูู ฺฉูู ฺฉู force ูุฑ URL ุฑู ูพุงฺฉ ฺฉููุ ุญุช ุงฺฏู AI ูุงุฏุฏู ุจฺฏุฑู.

### 4. Debug Crawler
ูุงฺฏ ุจุฒุงุฑู ุจุจูู ฺูุฏ ููฺฉ ูพุฏุง ูโฺฉูู ู ฺุฑุง ููุท 1 ุตูุญู ูฺฏุฑู.

---

## โ ุณูุงูุงุช ฺฉู ุจุงุฏ ุงุฒ ฺฉุงุฑุจุฑ ุจูพุฑุณู:

1. ุขุง Celery ุฑู restart ฺฉุฑุฏ ุจุนุฏ ุงุฒ deployุ
2. ูุดู ููฺฉ ุณุงุชุช ุฑู ุจุฏ ุชุง ุฎูุฏู ุชุณุช ฺฉููุ
3. ุงุฒ ฺู ููุช ุงู ูุดฺฉู ุดุฑูุน ุดุฏูุ (ูุจู ุง ุจุนุฏ ุงุฒ ุชุบุฑุงุช ููุ)
4. ูุดู screenshot ุง ูุซุงู ุงุฒ Q&A ูุง ุจุฏ ุฑู ูุดููู ุจุฏุ
5. ุชู admin panelุ max_pages ู crawl_depth ุฑู ฺูุฏ ุชุง ุชูุธู ฺฉุฑุฏุ

